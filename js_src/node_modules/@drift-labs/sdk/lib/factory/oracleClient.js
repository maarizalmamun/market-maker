"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getOracleClient = void 0;
const types_1 = require("../types");
const pythClient_1 = require("../oracles/pythClient");
// import { SwitchboardClient } from '../oracles/switchboardClient';
const quoteAssetOracleClient_1 = require("../oracles/quoteAssetOracleClient");
const anchor_1 = require("@coral-xyz/anchor");
function getOracleClient(oracleSource, connection) {
    if ((0, types_1.isVariant)(oracleSource, 'pyth')) {
        return new pythClient_1.PythClient(connection);
    }
    if ((0, types_1.isVariant)(oracleSource, 'pyth1K')) {
        return new pythClient_1.PythClient(connection, new anchor_1.BN(1000));
    }
    if ((0, types_1.isVariant)(oracleSource, 'pyth1M')) {
        return new pythClient_1.PythClient(connection, new anchor_1.BN(1000000));
    }
    if ((0, types_1.isVariant)(oracleSource, 'pythStableCoin')) {
        return new pythClient_1.PythClient(connection, undefined, true);
    }
    // if (isVariant(oracleSource, 'switchboard')) {
    // 	return new SwitchboardClient(connection);
    // }
    if ((0, types_1.isVariant)(oracleSource, 'quoteAsset')) {
        return new quoteAssetOracleClient_1.QuoteAssetOracleClient();
    }
    throw new Error(`Unknown oracle source ${oracleSource}`);
}
exports.getOracleClient = getOracleClient;
